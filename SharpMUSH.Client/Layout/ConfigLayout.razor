@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@using SharpMUSH.Client.Components

<div class="config-layout">
    @* Secondary Drawer - Config Navigation *@
    <MudPaper Class="config-drawer" Elevation="1" Square="true">
        <ConfigNavDrawer />
    </MudPaper>

    @* Main Content Area *@
    <MudPaper Class="config-content" Elevation="0" Square="true">
        @Body
    </MudPaper>
</div>

<style>
    .config-layout {
        display: flex;
        height: 100vh;
        width: 100%;
        position: fixed;
        top: 64px; /* Height of MudAppBar */
        left: 60px; /* Width of mini drawer */
    }

    .config-drawer {
        width: 280px;
        height: 100%;
        overflow-y: auto;
        flex-shrink: 0;
        border-right: 1px solid var(--mud-palette-divider);
    }

    .config-content {
        flex: 1;
        height: 100%;
        overflow-y: auto;
    }

    /* Adjust for mobile */
    @@media (max-width: 960px) {
        .config-layout {
            left: 0;
            flex-direction: column;
        }
        
        .config-drawer {
            width: 100%;
            height: auto;
            max-height: 200px;
        }
    }
</style>

@code {
    // This layout is applied to all /admin/config/* routes
}
