[
  {
    "title": "Phase 1: Critical Parser and Command Improvements",
    "body": "## Overview\n\nImplement high-priority parser improvements and core command features.\n\n## Scope\n\n**Effort**: 16-24 hours  \n**Priority**: HIGH  \n**Impact**: Core functionality and user experience\n\n## Tasks\n\n### Parser Improvements\n- [ ] Implement parser stack rewinding for better state management\n- [ ] Fix Q-register evaluation string handling\n- [ ] Improve channel name matching (fuzzy/partial matching)\n- [ ] Move function resolution to dedicated Library Service\n\n### Command Features\n- [ ] Implement money/penny transfer system (MoreCommands.cs)\n- [ ] Add SPEAK() function integration for wizard commands\n\n### Testing\n- [ ] Design NotifyService integration for recursion tests\n- [ ] Fix critical test infrastructure issues\n\n## Acceptance Criteria\n\n- All HIGH priority items completed\n- Parser state management robust\n- Money transfer functional\n- Q-register evaluation working correctly\n- Channel matching improved\n- Tests passing\n\n## Files to Modify\n\n- `SharpMUSH.Implementation/Visitors/SharpMUSHParserVisitor.cs`\n- `SharpMUSH.Implementation/Commands/GeneralCommands.cs`\n- `SharpMUSH.Implementation/Commands/MoreCommands.cs`\n- `SharpMUSH.Implementation/Commands/WizardCommands.cs`\n- `SharpMUSH.Tests/Parser/RecursionAndInvocationLimitTests.cs`\n\n## Dependencies\n\nNone - can be implemented immediately\n\n## Notes\n\nThis phase addresses the most critical remaining items that will have the biggest impact on user experience and system robustness.",
    "labels": ["enhancement", "high-priority", "parser", "commands"],
    "milestone": null
  },
  {
    "title": "Phase 2: Parser Feature Completeness",
    "body": "## Overview\n\nComplete remaining MEDIUM priority parser features for full PennMUSH compatibility.\n\n## Scope\n\n**Effort**: 25-40 hours  \n**Priority**: MEDIUM  \n**Impact**: Parser robustness and feature completeness\n\n## Tasks\n\n### Parser Optimizations\n- [ ] Optimize ParserContext argument passing\n- [ ] Implement lsargs (list-style arguments) support\n- [ ] Add parsed message alternative for performance\n- [ ] Investigate single-token command argument splitting\n- [ ] Optimize depth checking placement\n\n### Command Enhancements\n- [ ] Implement retroactive flag updates to attributes\n- [ ] Add attribute validation via regex patterns\n- [ ] Complete SPEAK() function integration\n\n### Service Infrastructure\n- [ ] Add multiple SQL database type support\n- [ ] Implement Pueblo escape stripping\n- [ ] Return PID for queue command tracking\n- [ ] Reconsider attribute pattern query return types\n\n## Acceptance Criteria\n\n- lsargs support working\n- Parser optimizations applied\n- Attribute validation functional\n- SQL database flexibility improved\n- PID tracking enhanced\n- All tests passing\n\n## Files to Modify\n\n- `SharpMUSH.Implementation/Visitors/SharpMUSHParserVisitor.cs`\n- `SharpMUSH.Implementation/Commands/GeneralCommands.cs`\n- `SharpMUSH.Implementation/Commands/WizardCommands.cs`\n- `SharpMUSH.Library/Services/SqlService.cs`\n- `SharpMUSH.Library/Services/DatabaseConversion/PennMUSHDatabaseConverter.cs`\n- `SharpMUSH.Library/ISharpDatabase.cs`\n- `SharpMUSH.Library/Requests/QueueCommandListRequest.cs`\n\n## Dependencies\n\nPhase 1 recommended (but not required)\n\n## Notes\n\nThis phase completes the parser feature set and enhances command infrastructure for full PennMUSH parity.",
    "labels": ["enhancement", "medium-priority", "parser", "commands", "services"],
    "milestone": null
  },
  {
    "title": "Phase 3: Test Suite Completion and Quality",
    "body": "## Overview\n\nComplete test coverage by addressing skipped and failing tests.\n\n## Scope\n\n**Effort**: 30-50 hours  \n**Priority**: LOW-MEDIUM  \n**Impact**: Code quality and reliability\n\n## Tasks\n\n### Test Infrastructure\n- [ ] Implement NotifyService integration for recursion tests (5 tests)\n- [ ] Add attribute setting in test infrastructure\n- [ ] Implement connection mocking\n- [ ] Fix test isolation issues\n\n### Command Tests\n- [ ] Investigate and fix 5 skipped GeneralCommand tests\n- [ ] Fix 2 Communication command tests\n- [ ] Fix Config command test\n- [ ] Investigate database command loop bug\n\n### Function Tests\n- [ ] Fix decompose matching issues (4 tests)\n- [ ] Resolve ibreak() evaluation placement issues (4 tests)\n- [ ] Fix Mail function test\n- [ ] Fix Channel function test\n- [ ] Resolve register evaluation problems\n\n### Other Tests\n- [ ] Fix MOTD data test\n- [ ] Fix Expanded data test\n- [ ] Debug owner filter in filtered queries\n- [ ] Fix alignment tests (2 items)\n- [ ] Investigate markup optimization issues\n\n## Acceptance Criteria\n\n- All skipped tests re-enabled and passing\n- All failing tests fixed\n- Test infrastructure complete\n- Comprehensive code coverage\n- No test warnings or errors\n\n## Files to Modify\n\n- `SharpMUSH.Tests/Parser/RecursionAndInvocationLimitTests.cs`\n- `SharpMUSH.Tests/Commands/GeneralCommandTests.cs`\n- `SharpMUSH.Tests/Commands/CommunicationCommandTests.cs`\n- `SharpMUSH.Tests/Commands/ConfigCommandTests.cs`\n- `SharpMUSH.Tests/Commands/DatabaseCommandTests.cs`\n- `SharpMUSH.Tests/Functions/StringFunctionUnitTests.cs`\n- `SharpMUSH.Tests/Functions/ListFunctionUnitTests.cs`\n- `SharpMUSH.Tests/Functions/MailFunctionUnitTests.cs`\n- `SharpMUSH.Tests/Functions/ChannelFunctionUnitTests.cs`\n- `SharpMUSH.Tests/Functions/JsonFunctionUnitTests.cs`\n- `SharpMUSH.Tests/Database/MotdDataTests.cs`\n- `SharpMUSH.Tests/Database/ExpandedDataTests.cs`\n- `SharpMUSH.Tests/Database/FilteredObjectQueryTests.cs`\n- `SharpMUSH.Tests/Markup/Data/Align.cs`\n- `SharpMUSH.Tests/Markup/Data/InsertAt.cs`\n\n## Dependencies\n\nNone - can be done in parallel with other phases\n\n## Notes\n\nThis phase ensures comprehensive test coverage and code quality. All items are enhancements to existing functionality.",
    "labels": ["testing", "low-priority", "quality"],
    "milestone": null
  },
  {
    "title": "Phase 4: Function Enhancements and Integration",
    "body": "## Overview\n\nEnhance utility, string, and communication functions.\n\n## Scope\n\n**Effort**: 10-15 hours  \n**Priority**: LOW-MEDIUM  \n**Impact**: Function completeness and integration\n\n## Tasks\n\n### Utility Functions\n- [ ] Implement pcreate() timestamp format (#1234:timestamp)\n- [ ] Move ANSI color processing to AnsiMarkup module\n- [ ] Plan text file system integration for stext()\n\n### String Functions\n- [ ] Apply attribute function to each character (apply2 integration)\n- [ ] Fix ANSI reconstruction after text replacements\n\n### Communication Functions (Future Planning)\n- [ ] Design websocket/out-of-band HTML communication\n- [ ] Design websocket/out-of-band JSON communication\n- [ ] Plan communication framework architecture\n\n## Acceptance Criteria\n\n- pcreate() returns correct timestamp format\n- ANSI processing integrated with AnsiMarkup\n- Character iteration working\n- ANSI reconstruction correct\n- Communication framework designed\n- All function tests passing\n\n## Files to Modify\n\n- `SharpMUSH.Implementation/Functions/UtilityFunctions.cs`\n- `SharpMUSH.Implementation/Functions/StringFunctions.cs`\n- `SharpMUSH.Implementation/Functions/HTMLFunctions.cs`\n- `SharpMUSH.Implementation/Functions/JSONFunctions.cs`\n\n## Dependencies\n\nPhase 2 recommended for better ANSI module integration\n\n## Notes\n\nWebsocket/out-of-band communication is planned for future release. This phase focuses on design and planning rather than full implementation.",
    "labels": ["enhancement", "low-priority", "functions"],
    "milestone": null
  },
  {
    "title": "Complete Remaining 7 Administrative Commands",
    "body": "## Overview\n\nImplement the final 7 optional administrative commands.\n\n## Scope\n\n**Effort**: 15-30 hours  \n**Priority**: LOW  \n**Impact**: Administrative functionality completeness\n\n## Commands to Implement\n\n1. **@ALLHALT** - Emergency halt all queued commands\n2. **@CHOWNALL** - Change ownership of all objects\n3. **@POLL** - Polling/survey system\n4. **@PURGE** - Purge inactive objects\n5. **@READCACHE** - Display cache statistics\n6. **@SHUTDOWN** - Server shutdown\n7. **@SUGGEST** - Suggestion system\n\n## Tasks\n\n- [ ] Implement @ALLHALT with queue integration\n- [ ] Implement @CHOWNALL with permission checks\n- [ ] Implement @POLL system\n- [ ] Implement @PURGE with safety checks\n- [ ] Implement @READCACHE statistics\n- [ ] Implement @SHUTDOWN with proper cleanup\n- [ ] Implement @SUGGEST system\n- [ ] Add comprehensive tests for all commands\n- [ ] Update documentation\n\n## Acceptance Criteria\n\n- All 7 commands implemented\n- Proper permission checks in place\n- Safety mechanisms for destructive commands\n- Comprehensive test coverage\n- Documentation updated\n- 100% command completion achieved\n\n## Files to Modify\n\n- `SharpMUSH.Implementation/Commands/WizardCommands.cs`\n- Test files for each command\n- Documentation files\n\n## Dependencies\n\nNone - can be implemented independently\n\n## Notes\n\nThese are optional administrative commands that can be prioritized based on operational needs and user requests. Not required for production deployment.",
    "labels": ["enhancement", "low-priority", "commands", "admin"],
    "milestone": null
  },
  {
    "title": "Infrastructure and Service Improvements",
    "body": "## Overview\n\nEnhance infrastructure, services, and system management.\n\n## Scope\n\n**Effort**: 15-25 hours  \n**Priority**: LOW  \n**Impact**: Infrastructure completeness\n\n## Tasks\n\n### Server Management\n- [ ] Implement CRON/scheduled task management\n- [ ] Add warning time management\n- [ ] Add purge time management\n- [ ] Improve startup handler\n\n### Database Improvements\n- [ ] Fix MOTD data test issues\n- [ ] Fix Expanded data test issues\n- [ ] Improve owner filter queries\n- [ ] Optimize graph traversal in AQL queries\n\n### Markup and Documentation\n- [ ] Implement link URL storage in markup\n- [ ] Fix InsertAt optimization issues\n- [ ] Fix alignment test failures\n- [ ] Update markdown renderer\n\n### Substitutions\n- [ ] Full server integration for register tests (%wv, %vv, %xv)\n\n## Acceptance Criteria\n\n- CRON tasks manageable\n- Database tests passing\n- Markup fully functional\n- Documentation complete\n- All infrastructure tests passing\n\n## Files to Modify\n\n- `SharpMUSH.Server/StartupHandler.cs`\n- `SharpMUSH.Tests/Database/MotdDataTests.cs`\n- `SharpMUSH.Tests/Database/ExpandedDataTests.cs`\n- `SharpMUSH.Tests/Database/FilteredObjectQueryTests.cs`\n- `SharpMUSH.Tests/Documentation/MarkdownToAsciiRendererTests.cs`\n- `SharpMUSH.Tests/Markup/Data/InsertAt.cs`\n- `SharpMUSH.Tests/Markup/Data/Align.cs`\n- `SharpMUSH.Tests/Substitutions/RegistersUnitTests.cs`\n\n## Dependencies\n\nNone - infrastructure improvements can be done independently\n\n## Notes\n\nThese improvements enhance system management and infrastructure but are not required for core functionality.",
    "labels": ["enhancement", "low-priority", "infrastructure", "services"],
    "milestone": null
  },
  {
    "title": "Documentation and Code Quality Improvements",
    "body": "## Overview\n\nEnhance documentation, code organization, and overall quality.\n\n## Scope\n\n**Effort**: 10-20 hours  \n**Priority**: LOW  \n**Impact**: Code maintainability and documentation\n\n## Tasks\n\n### Code Organization\n- [ ] Review and consolidate remaining TODOs\n- [ ] Improve code comments\n- [ ] Refactor complex methods\n- [ ] Apply consistent coding standards\n\n### Documentation\n- [ ] Update API documentation\n- [ ] Enhance code examples\n- [ ] Update README files\n- [ ] Document advanced features\n- [ ] Create migration guides\n\n### Code Quality\n- [ ] Run static analysis tools\n- [ ] Address code smells\n- [ ] Improve test naming\n- [ ] Enhance error messages\n- [ ] Add XML documentation\n\n### Performance\n- [ ] Profile critical paths\n- [ ] Identify optimization opportunities\n- [ ] Implement targeted improvements\n\n## Acceptance Criteria\n\n- All code well-documented\n- Consistent coding standards applied\n- Documentation comprehensive and accurate\n- Code quality metrics improved\n- Performance baseline established\n\n## Files to Modify\n\nVarious files across the codebase\n\n## Dependencies\n\nNone - can be done continuously\n\n## Notes\n\nOngoing effort to maintain and improve code quality and documentation. Can be done in parallel with other work.",
    "labels": ["documentation", "quality", "low-priority"],
    "milestone": null
  }
]
